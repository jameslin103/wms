<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

   <constant name="struts.ui.theme" value="simple"></constant>
	<constant name="struts.url.includeParams" value="none"></constant>
	<constant name="struts.enable.DynamicMethodInvocation" value="false"></constant>
	<constant name="struts.multipart.parser" value="jakarta"></constant>
	<constant name="struts.multipart.maxSize" value="10701096" />
	<constant name="struts.devMode" value="false"/>
	<constant name="struts.i18n.encoding" value="UTF-8"></constant>
	<constant name="struts.locale" value="zh_CN"></constant>  
	<constant name="struts.configuration.xm.reload" value="true"/>
	<!--该属性指定处理MIME-typemultipart/form-data，文件上传--> 
	<constant name="struts.multipart.parser" value="cos"/> 
	<constant name="struts.multipart.parser" value="pell"/>
	<constant name="struts.multipart.parser" value="jakarta"/>
	<!--该属性指定Struts2文件上传中整个请求内容允许的最大字节数-->
	<constant name="struts.multipart.maxSize" value="2097152"/>
	
	
		
    
	<package name="wms" extends="struts-default,json-default,jasperreports-default" >
		<interceptors>
			<interceptor-stack name="appInterceptor">
				<interceptor-ref name="store">
					<param name="operationMode">STORE</param>
				</interceptor-ref>
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="appInterceptor" />
		<global-results>
			<result>/login.jsp</result>
		
		</global-results>
		
		<!-- 用户登录 -->
		<action name="userLogin" class="cn.fm.web.action.user.LoginAction" method="userLogin">  
            <result name="input">/login.jsp</result>
            <result name="success">/dashboard.jsp</result> 
        </action>
         <action name="loginOut"  class="cn.fm.web.action.user.WmsUserLogoutAction" method="loginOut">
            <result name="success" type="redirectAction">
            	 <param name="actionName">userLogin</param>
            </result>
        </action>
         <action name="updateBuyerPassword" class="cn.fm.web.action.user.UpdatePasswordAction" method="updatePassword">
            <result name="success" type="redirectAction">
            	 <param name="actionName">userLogin</param> 
            </result>
        </action>  
      
       
               
        <!-- excel Import Date -->
        <action name="addImportExcelEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="addImportExcelEmployees">
            <result name="input">company/employee-step1-of-create.jsp</result>
            <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
        </action> 
          <action name="exportExcel" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="exportExcel">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
        </action> 
        
        <action name="employeesFileExcelTempl" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="employeesFileExcelTempl">  
           <!-- 配置结果类型为stream的结果 -->  
          <result name="success" type="stream">  
               <!-- 指定被下载文件的文件类型 -->  
               <param name="contentType">application/vnd.ms-excel</param>  
               <!-- 指定下载文件的文件位置 -->  
               <param name="contentDisposition">attachment;filename="${excelName}"</param>  
               <param name="inputName">downloadFile</param>
               <param name="bufferSize">1024</param>
           </result>  
       </action>  
        
        <!-- ===========EnterpriseEmployess======== -->
         <action name="addEnterpriseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="addEnterpriseEmployees">
            <result name="success" type="redirect">/company/employee-list.jsp</result>
            <result name="input">/company/employee-list.jsp</result>
        </action>  
         <action name="viewEnterpriseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="viewEnterpriseEmployees">
            <result name="success">/company/employee-list.jsp</result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
        </action>  
        <action name="batchExcelDataEmployee" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="batchExcelDataEmployee">
            <result name="success">company/employee-step1-of-create.jsp</result>
        </action>  
        
         <action name="selectEnterpriseEmployeesWage" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="selectEnterpriseEmployeesWage">
            <result name="success">company/employee-personal-info.jsp</result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
        </action> 
         <action name="fildInsuranceEnterpriseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="fildInsuranceEnterpriseEmployees">
             <result name="success">company/employee-list.jsp</result>
        </action>
        
        <action name="fildAllEnterpriseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="fildAllEnterpriseEmployees">
             <result name="success">company/employee-search-result.jsp</result>
             <result name="input" type="redirectAction">
             	<param name="actionName">viewEnterpriseEmployees</param>
             </result>
        </action>
        
         <action name="viewEmployeeContract" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="viewEmployeeContract">
            <result name="success">company/employee-personal-contract.jsp</result>
        </action>
         <action name="viewEmployeePersonalSalary" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="viewEmployeePersonalSalary">
            <result name="success">company/employee-personal-salary.jsp</result>
        </action>
        <action name="updateSalaryEnterpriseEmployees" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="updateSalaryEnterpriseEmployees">
            <result name="success"  type="redirectAction">
            	<param name="actionName">viewEmployeePersonalSalary</param>
            </result>
             <result name="input"  type="redirectAction">
            	<param name="actionName">viewEmployeePersonalSalary</param>
            </result>
        </action> 
          <action name="newStaffEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="newStaffEmployees">
            <result name="success">company/insurance-with-employee-list.jsp</result>
        </action>
         <action name="renewalEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="renewalEmployees">
            <result name="success">company/insurance-with-employee-list.jsp</result>
        </action>
         <action name="downloadInsuranceWithEmployeeList" class="cn.fm.web.action.company.InsuranceEmployeesReportAction" method="downloadInsuranceWithEmployeeList">
            <result name="success"  type="jasper"></result>
        </action>
        
        
        
       <!-- Enterprise  -->
        <action name="viewEnterprise" class="cn.fm.web.action.company.EnterpriseAction" method="viewEnterprise">
            <result name="success">admin/company-list.jsp</result>
        </action> 
         <action name="toBeResponsibleEnterprise" class="cn.fm.web.action.company.EnterpriseAction" method="toBeResponsibleEnterprise">
            <result name="success">company/list.jsp</result>
        </action>
        <action name="addEnterprise" class="cn.fm.web.action.company.EnterpriseAction" method="addEnterprise">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
        </action> 
        <action name="viewEnterpriseDetailed" class="cn.fm.web.action.company.EnterpriseAction" method="viewEnterpriseDetailed">
            <result name="success">company/index.jsp</result>
        </action>
        <action name="viewWorkersIncreased" class="cn.fm.web.action.company.EnterpriseAction" method="viewWorkersIncreased">
            <result name="success">company/insurance-with-employee-list.jsp</result>
        </action>
        
        
        <!-- InsurancesTaxAction  -->
        <action name="toViewTaxRules" class="cn.fm.web.action.company.InsurancesTaxAction" method="toViewTaxRules">
            <result name="success">admin/tax.jsp</result>
        </action>
         <action name="addInsurancesTax" class="cn.fm.web.action.company.InsurancesTaxAction" method="addInsurancesTax">
            <result name="success" type="redirectAction">
            	<param name="actionName">toViewTaxRules</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">toViewTaxRules</param>
            </result>
        </action> 
         <action name="addInsurancesBaseSettings" class="cn.fm.web.action.company.InsurancesBaseSettingsAction" method="addInsurancesBaseSettings">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewInsurancesBaseSettings</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewInsurancesBaseSettings</param>
            </result>
        </action> 
        <action name="viewInsurancesBaseSettings" class="cn.fm.web.action.company.InsurancesBaseSettingsAction" method="viewInsurancesBaseSettings">
            <result name="success">/admin/tax-base.jsp</result>
        </action> 
        
        <!-- CustomBonus  -->
        
        <action name="viewCustomBonus" class="cn.fm.web.action.company.CustomBonusAction" method="viewCustomBonus">
            <result name="success">company/salary-list-of-customized-items.jsp</result>
        </action> 
        <action name="addCustomBonus" class="cn.fm.web.action.company.CustomBonusAction" method="addCustomBonus">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewCustomBonus</param>
            </result>
        </action> 
        
        <!-- Template 2013-08-23 -->
        <action name="viewSalaryTemplate" class="cn.fm.web.action.company.SalaryTemplateAction" method="viewSalaryTemplate">
            <result name="success" >company/salary-template.jsp</result>
        </action> 
        <action name="addSalaryTemplate" class="cn.fm.web.action.company.SalaryTemplateAction" method="addSalaryTemplate">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewSalaryTemplate</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewSalaryTemplate</param>
            </result>
        </action>
        <action name="viewSalaryBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="viewSalaryBudgetTable">
            <result name="success" >company/salary-with-month.jsp</result>
        </action> 
        <action name="addSalaryBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="addSalaryBudgetTable">
            <result name="success" >company/salary-step2-of-create.jsp</result>
            <result name="input" type="redirectAction"> 
            	<param name="actionName">newSalaryBudgetTable</param>
            </result>
        </action>
        <action name="returnToModifySalaryBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="returnToModifySalaryBudgetTable">
               <result name="success">company/salary-step1-of-create.jsp</result>
               <result name="input"> company/salary-step2-of-create.jsp</result>
        </action> 
        <action name="downloadSalaryBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="downloadSalaryBudgetTable">
             <result name="success" type="stream">
               <!-- 指定被下载文件的文件类型 -->
               <param name="contentType">application/vnd.ms-excel</param>
               <!-- 指定下载文件的文件位置 -->
               <param name="contentDisposition">attachment;filename="${excelName}"</param>  
               <param name="inputName">downloadFile</param>
               <param name="bufferSize">1024</param>
            </result>  
        </action> 
        <action name="uploadEmployeesSalaryDetail" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="uploadEmployeesSalaryDetail">
               <result name="success">company/salary-step3-of-create.jsp</result>
               <result name="input">company/salary-step2-of-create.jsp</result>
 
        </action> 
        <action name="newSalaryBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="newSalaryBudgetTable">
            <result name="success" >company/salary-step1-of-create.jsp</result>
            <result name="input">company/salary-step1-of-create.jsp</result>
        </action> 
        <action name="findBeforeCurrentDateTemplate" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="findBeforeCurrentDateTemplate">
            <result type="json" name="createSalaryBudgetTableList">
            	
            </result>
        </action> 
         
        
        
        
        
        <!-- ===========Wage-budget-salary 2013-08-28============ -->
         <action name="viewWageBudgetSummary" class="cn.fm.web.action.salary.WageBudgetSummaryAction" method="viewWageBudgetSummary">
            <result name="success" >company/salary-with-sum-of-categories.jsp</result>
        </action>
        <action name="viewBalanceDetail" class="cn.fm.web.action.salary.BalanceDetailAction" method="viewBalanceDetail">
            <result name="success" >company/balance-detail.jsp</result>
        </action>
         <action name="addBalanceDetail" class="cn.fm.web.action.salary.BalanceDetailAction" method="addBalanceDetail">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewBalanceDetail</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewBalanceDetail</param>
            </result>
        </action>
        
        
        
        
        <action name="userInfo" class="cn.fm.web.action.company.UserAction" method="userInfo">  
            <result  name="success">../excel/InputExcel.jsp</result>
        </action>  
        <action name="outPut" class="cn.fm.web.action.company.OutAction">
            <result name="success">../excel/OutExcel.jsp</result>
        </action>  
       


	</package>

</struts>

