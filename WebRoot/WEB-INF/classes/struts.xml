<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<!-- 将struts2委托Spring管理 -->
    <constant name="struts.objectFactory" value="spring"></constant>
    <constant name="struts.ui.theme" value="simple"></constant>
	<constant name="struts.url.includeParams" value="none"></constant>
	<constant name="struts.enable.DynamicMethodInvocation" value="false"></constant>
	<constant name="struts.multipart.parser" value="jakarta"></constant>
	<constant name="struts.multipart.maxSize" value="10701096" />
	<constant name="struts.devMode" value="false"/>
	<constant name="struts.i18n.encoding" value="UTF-8"></constant>
	<constant name="struts.locale" value="zh_CN"></constant>  
	<!--该属性指定处理MIME-typemultipart/form-data，文件上传--> 
	<constant name="struts.multipart.parser" value="cos"/> 
	<constant name="struts.multipart.parser" value="pell"/>
	<constant name="struts.multipart.parser" value="jakarta"/>
	<!--该属性指定Struts2文件上传中整个请求内容允许的最大字节数-->
	<constant name="struts.multipart.maxSize" value="2097152"/>
	<!-- 当修改配置文件不需要重启服务，开发比较有用 -->
	<constant name="struts.configuration.xml.reload" value="true" />
	
		
    
	<package name="wms" extends="struts-default,json-default,jasperreports-default" >
		<interceptors>
			<interceptor name="sessionout"  class="cn.fm.bean.filter.SessionIterceptor"/>  
			<interceptor-stack name="appInterceptor">
				<interceptor-ref name="store">
					<param name="operationMode">STORE</param>
				</interceptor-ref>
				<interceptor-ref name="sessionout" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
			
		</interceptors>
		<default-interceptor-ref name="appInterceptor" />
		<global-results>
			<result name="login">/login.jsp</result>
			<result name="message">/share/message.jsp</result>
			<result name="directUrl">/share/directUrl.jsp</result>
			
			<result name="error">cn.fm/error/ErrDisplay.ftl</result>
		</global-results>
		<global-exception-mappings>
			<exception-mapping result="error" exception="cn.fm.bean.filter.SystemException"/>
		</global-exception-mappings>
		
		<!-- 用户登录 -->
		
		<action name="userLogin" class="cn.fm.web.action.user.LoginAction">  
            <result name="input">/login.jsp</result>
            <result name="success">/dashboard.jsp</result>
        </action>
		<action name="toPassword" class="cn.fm.web.action.user.LoginAction" method="toPassword">  
            <result name="success">account/password.jsp</result>
        </action>
        <action name="updateWmsUserPassword" class="cn.fm.web.action.user.LoginAction" method="updateWmsUserPassword">  
             <result name="success" type="redirectAction">
            	 <param name="actionName">userLogin</param>
            </result>
            <result name="input"> account/password.jsp</result>
        </action>
        
         <action name="loginOut"  class="cn.fm.web.action.user.WmsUserLogoutAction" method="loginOut">
            <result name="success" >/login.jsp</result>
        </action>
         <action name="updateBuyerPassword" class="cn.fm.web.action.user.UpdatePasswordAction" method="updatePassword">
            <result name="success" type="redirectAction">
            	 <param name="actionName">userLogin</param>
            </result>
        </action>  
        
         <!-- ========角色管理 权限============ -->    
      <action name="toAuthorizationUser" class="cn.fm.web.action.user.PermissionAction" method="toAuthorizationUser">
            <result name="success" >/admin/authorization.jsp</result>
            <result name="input" >/admin/authorization.jsp</result>
        </action> 
        <action name="toHelp" class="cn.fm.web.action.user.PermissionAction" method="toHelp">
            <result name="success" >/help/index.jsp</result>
        </action>  
        <action name="toRoleManage" class="cn.fm.web.action.user.PermissionAction" method="toRoleManage">
            <result name="success" >/admin/role.jsp</result>
        </action>
        <action name="addWmsUser" class="cn.fm.web.action.user.PermissionAction" method="addWmsUser">
           <result name="success" type="redirectAction">
            	<param name="actionName">toAuthorizationUser</param>
            </result>
             <result name="input" type="redirectAction">
            	<param name="actionName">toAuthorizationUser</param>
            </result>
        </action>
        <action name="loadRole" class="cn.fm.web.action.user.PermissionAction" method="loadRole">
             <result name="success"></result>
        </action>
        <action name="loadWmsUser" class="cn.fm.web.action.user.PermissionAction" method="loadWmsUser">
             <result name="success"></result>
        </action>
        <action name="isExitPhone" class="cn.fm.web.action.user.PermissionAction" method="isExitPhone">
             <result name="success"></result>
        </action>    
        
          <action name="updateAuthorization" class="cn.fm.web.action.user.PermissionAction" method="updateAuthorization">
            <result name="success" type="redirectAction">
            	<param name="actionName">toAuthorizationUser</param>
            </result>
        </action>
         <action name="addAuthorization" class="cn.fm.web.action.user.PermissionAction" method="addAuthorization">
            <result name="success" type="redirectAction">
            	<param name="actionName">toAuthorizationUser</param>
            </result>
             <result name="input" type="redirectAction">
            	<param name="actionName">toAuthorizationUser</param>
            </result>
        </action>
        <action name="addRole" class="cn.fm.web.action.user.PermissionAction" method="addRole">
            <result name="success" type="redirectAction">
            	<param name="actionName">toRoleManage</param>
            </result>
             <result name="input" type="redirectAction">
            	<param name="actionName">toRoleManage</param>
            </result>
        </action>
        <action name="deleteRole" class="cn.fm.web.action.user.PermissionAction" method="deleteRole">
            <result name="success" type="redirectAction">
            	<param name="actionName">toRoleManage</param>
            </result>
             <result name="input" type="redirectAction">
            	<param name="actionName">toRoleManage</param>
            </result>
        </action>
        <action name="updateRole" class="cn.fm.web.action.user.PermissionAction" method="updateRole">
            <result name="success" type="redirectAction">
            	<param name="actionName">toRoleManage</param>
            </result>
             <result name="input" type="redirectAction">
            	<param name="actionName">toRoleManage</param>
            </result>
        </action>
         
           
        <!-- excel Import Date -->
        <action name="addImportExcelEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="addImportExcelEmployees">
            <result name="input">company/employee-step1-of-create.jsp</result>
            <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
        </action> 
        
        <!-- 导出excel全体在职员工信息的报表数据 -->
          <action name="exportEmployeesExcel" class="cn.fm.web.action.ireport.InsuranceEmployeesReportAction" method="exportEmployeesExcel">
            <result name="success"  type="jasper">   </result>     	
           	<result name="input" type="redirectAction">
           		<param name="actionName">viewEnterpriseEmployees</param>
           	</result>
        </action> 
        
        <action name="employeesFileExcelTempl" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="employeesFileExcelTempl">  
           <!-- 配置结果类型为stream的结果 -->  
          <result name="success" type="stream">  
               <!-- 指定被下载文件的文件类型 -->  
               <param name="contentType">application/vnd.ms-excel</param>  
               <!-- 指定下载文件的文件位置 -->  
               <param name="contentDisposition">attachment;filename="${excelName}"</param>  
               <param name="inputName">downloadFile</param>
               <param name="bufferSize">1024</param>
           </result>  
       </action>  
        
        <!-- ===========EnterpriseEmployess======== -->
         <action name="addEnterpriseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="addEnterpriseEmployees">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            	<param name="errorMessage">${errorMessage}</param>
            </result>
        </action> 
         <action name="findIdToEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="findIdToEmployees">
            <result name="success" type="json">
            	 <param name="includeProperties">
            	 	enterpriseEmployeesJson\.employeesId,
            	 	enterpriseEmployeesJson\.contractNo,
            	 	enterpriseEmployeesJson\.employeesName,
            	 	enterpriseEmployeesJson\.cardNumber,
            	 	enterpriseEmployeesJson\.employeesSex,
            	 	enterpriseEmployeesJson\.householdRegister,
            	 	enterpriseEmployeesJson\.photo,
            	 	enterpriseEmployeesJson\.phone,
            	 	enterpriseEmployeesJson\.homeAddress,
            	 	enterpriseEmployeesJson\.bankCardNumber,
            	 	enterpriseEmployeesJson\.bank,
            	 	enterpriseEmployeesJson\.nativePlace,
            	 	enterpriseEmployeesJson\.industry,
            	 	enterpriseEmployeesJson\.jobs,
            	 	enterpriseEmployeesJson\.maritalStatus,
            	 	enterpriseEmployeesJson\.levelEducation,
            	 	enterpriseEmployeesJson\.startContractDeadline,
            	 	enterpriseEmployeesJson\.endContractDeadline,
            	 	enterpriseEmployeesJson\.whetherGinseng,
            	 	enterpriseEmployeesJson\.sociaSecurity,
            	 	enterpriseEmployeesJson\.ginsengProtectNature,
            	 	enterpriseEmployeesJson\.cinsengDate,
            	 	enterpriseEmployeesJson\.base,
            	 	enterpriseEmployeesJson\.socialInsurance,
            	 	enterpriseEmployeesJson\.fertilityInsurance,
            	 	enterpriseEmployeesJson\.inductrialBase,
            	 	enterpriseEmployeesJson\.basicMedical,
            	 	enterpriseEmployeesJson\.housingFund,
            	 	enterpriseEmployeesJson\.paymentWay,
            	 	enterpriseEmployeesJson\.pseudoDelete,
            	 	enterpriseEmployeesJson\.serviceCost
            	 	
            	 </param>   
            </result>
        </action> 
        <action name="updateEnterpriseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="updateEnterpriseEmployees">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
        </action>
        
          <!-- 增减员与参保明细 -->
        <action name="viewInsuranceWithMonth" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="viewInsuranceWithMonth">
            <result name="success">company/insurance-with-month.jsp</result>
            <result name="input">company/insurance-with-month.jsp</result>
        </action>
        
        <!-- 增减员与参保具体员工资料 -->
         <action name="insuranceWithEmployeeList" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="insuranceWithEmployeeList">
            <result name="success">company/insurance-with-employee-list.jsp</result>
        </action>
        
          <!-- 查看企业员工 -->
         <action name="viewEnterpriseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="viewEnterpriseEmployees">
            <result name="success">/company/employee-list.jsp</result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            	<param name="page">${page}</param>
            </result>
        </action>  
        <action name="batchExcelDataEmployee" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="batchExcelDataEmployee">
            <result name="success">company/employee-step1-of-create.jsp</result>
        </action>  
        
         <action name="selectEnterpriseEmployeesWage" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="selectEnterpriseEmployeesWage">
            <result name="success">company/employee-personal-info.jsp</result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
        </action> 
         <action name="fildInsuranceEnterpriseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="fildInsuranceEnterpriseEmployees">
             <result name="success">company/employee-list.jsp</result>
        </action>
        <action name="deleteEmpoyeesCheckbox" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="deleteEmpoyeesCheckbox">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterpriseEmployees</param>
            </result>
        </action>
        
        <action name="fildAllEnterpriseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="fildAllEnterpriseEmployees">
             <result name="success">company/employee-search-result.jsp</result>
             <result name="input" type="redirectAction">
             	<param name="actionName">viewEnterpriseEmployees</param>
             </result>
        </action>
         <action name="deleteEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="deleteEmployees">
            <result name="success">company/insurance-with-employee-list.jsp</result>       	
          
        </action>
         <action name="viewEmployeeContract" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="viewEmployeeContract">
            <result name="success">company/employee-personal-contract.jsp</result>
        </action>
         <action name="viewEmployeePersonalSalary" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="viewEmployeePersonalSalary">
            <result name="success">company/employee-personal-salary.jsp</result>
        </action>
        <action name="updateSalaryEnterpriseEmployees" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="updateSalaryEnterpriseEmployees">
            <result name="success"  type="redirectAction">
            	<param name="actionName">viewEmployeePersonalSalary</param>
            </result>
             <result name="input"  type="redirectAction">
            	<param name="actionName">viewEmployeePersonalSalary</param>
            </result>
        </action>
        
        <!-- 查看 新增  续保，减员--> 
          <action name="viewStaffAndRenewalAndReductionEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="viewStaffAndRenewalAndReductionEmployees">
            <result name="success">company/insurance-with-employee-list.jsp</result>
        </action>
      
         <action name="downloadInsuranceWithEmployeeList" class="cn.fm.web.action.ireport.InsuranceEmployeesReportAction" method="downloadInsuranceWithEmployeeList">
            <result name="success"  type="jasper"></result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewWorkersIncreased</param>
            </result>
        </action>
        <action name="downloadEmployeesSalaryDetail" class="cn.fm.web.action.ireport.InsuranceEmployeesReportAction" method="downloadEmployeesSalaryDetail">
            <result name="success"  type="jasper"></result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewWorkersIncreased</param>
            </result>
        </action>
     
        
        <action name="downloadBatchIncreaseEmployeesExcel" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="downloadBatchIncreaseEmployeesExcel">
            <!-- 配置结果类型为stream的结果 -->  
          <result name="success" type="stream">  
               <!-- 指定被下载文件的文件类型 -->  
               <param name="contentType">application/vnd.ms-excel</param>  
               <!-- 指定下载文件的文件位置 -->  
               <param name="contentDisposition">attachment;filename="${excelName}"</param>
               <param name="inputName">downloadFile</param>
               <param name="bufferSize">1024</param>
           </result>  
        </action>
        
        <!-- 批量增员续保 -->
        <action name="batchIncreaseEmployees" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="batchIncreaseEmployees">
            <interceptor-ref name="defaultStack"/><!-- 需要注意拦截器栈的配置顺序-->  
            <interceptor-ref name="token"/><!-- 这就是用来防止表单重复提交的拦截器-->  
            <result name="invalid.token">company/insurance-step1-of-create.jsp</result>
            <result name="success">company/insurance-step2-of-create.jsp</result>
            <result name="input">company/insurance-step1-of-create.jsp</result>
        </action>
        
         <!-- 批量增员(与续保)操作界面 -->
        <action name="increaseEmployeesUI" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="increaseEmployeesUI">
            <result name="success">company/insurance-step1-of-create.jsp</result>
        </action>
        
        <!-- 批量减员操作界面 -->
        <action name="insuranceReductionUI" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="insuranceReductionUI">
            <result name="success">company/insurance-step1-of-reduction.jsp</result>
        </action>
        <action name="downloadReductionTemplate" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="downloadReductionTemplate">
           <!-- 配置结果类型为stream的结果 -->
          <result name="success" type="stream">  
               <!-- 指定被下载文件的文件类型 -->  
               <param name="contentType">application/vnd.ms-excel</param>  
               <!-- 指定下载文件的文件位置 -->  
               <param name="contentDisposition">attachment;filename="${excelName}"</param>
               <param name="inputName">downloadFile</param>
               <param name="bufferSize">1024</param>
          </result>
        </action>
         <!-- 批量减员上传数据 -->
         <action name="uploadInsuranceReduction" class="cn.fm.web.action.company.EnterpriseEmployeesAction" method="uploadInsuranceReduction">
            <result name="success">company/insurance-step2-of-reduction.jsp</result>
            <result name="input">company/insurance-step1-of-reduction.jsp</result>
        </action>
        
        
       <!-- Enterprise  -->
        <action name="viewEnterprise" class="cn.fm.web.action.company.EnterpriseAction" method="viewEnterprise">
            <result name="success">admin/company-list.jsp</result>
        </action>
         <action name="addEnterpriseToUser" class="cn.fm.web.action.company.EnterpriseAction" method="addEnterpriseToUser">
           <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
        </action>
        <action name="removeToEnterpriseHeadUser" class="cn.fm.web.action.company.EnterpriseAction" method="removeToEnterpriseHeadUser">
           <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
             <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
        </action>
         <action name="toBeResponsibleEnterprise" class="cn.fm.web.action.company.EnterpriseAction" method="toBeResponsibleEnterprise">
            <result name="success">company/list.jsp</result>
        </action>
        <action name="addEnterprise" class="cn.fm.web.action.company.EnterpriseAction" method="addEnterprise">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
        </action> 
        <action name="findToIdEnterprise" class="cn.fm.web.action.company.EnterpriseAction" method="findToIdEnterprise">
           <result type="json" name="enterpriseJson"></result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
        </action>
        <action name="findEnterpriseGrid" class="cn.fm.web.action.company.EnterpriseAction" method="findEnterpriseGrid">
           <result type="json" name="success"></result>
        </action>
         
         <action name="updateEnterprise" class="cn.fm.web.action.company.EnterpriseAction" method="updateEnterprise">
           <result name="success" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
           <result name="input" type="redirectAction">
            	<param name="actionName">viewEnterprise</param>
            </result>
        </action>
         <action name="updateEnterpriseContact" class="cn.fm.web.action.company.EnterpriseAction" method="updateEnterpriseContact">
           <result name="success" type="redirectAction">
            	<param name="actionName">toBeResponsibleEnterprise</param>
            </result>
           <result name="input" type="redirectAction">
            	<param name="actionName">toBeResponsibleEnterprise</param>
            </result>
        </action> 
        
        <action name="viewEnterpriseDetailed" class="cn.fm.web.action.company.EnterpriseAction" method="viewEnterpriseDetailed">
            <result name="success">company/index.jsp</result>
        </action>
        <action name="viewWorkersIncreased" class="cn.fm.web.action.company.EnterpriseAction" method="viewWorkersIncreased">
            <result name="success">company/insurance-with-employee-list.jsp</result>
            <result name="input">
            	company/insurance-with-employee-list.jsp
            </result>
        </action>
      
        
        
        <!-- InsurancesTaxAction  -->
        <action name="toViewTaxRules" class="cn.fm.web.action.company.InsurancesTaxAction" method="toViewTaxRules">
            <result name="success">admin/tax.jsp</result>
        </action>
         <action name="addInsurancesTax" class="cn.fm.web.action.company.InsurancesTaxAction" method="addInsurancesTax">
            <result name="success" type="redirectAction">
            	<param name="actionName">toViewTaxRules</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">toViewTaxRules</param>
            </result>
        </action> 
        <action name="findInsurancesTax" class="cn.fm.web.action.company.InsurancesTaxAction" method="findInsurancesTax">
            <result name="insuranceTaxJson" type="json">
            </result>
            
        </action> 
         <action name="updateInsurancesTax" class="cn.fm.web.action.company.InsurancesTaxAction" method="updateInsurancesTax">
            <result name="success" type="redirectAction">
            <param name="actionName">toViewTaxRules</param>
            </result>
            
        </action> 
         <action name="addInsurancesBaseSettings" class="cn.fm.web.action.company.InsurancesBaseSettingsAction" method="addInsurancesBaseSettings">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewInsurancesBaseSettings</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewInsurancesBaseSettings</param>
            </result>
        </action> 
        <action name="findIdToBaseTax" class="cn.fm.web.action.company.InsurancesBaseSettingsAction" method="findIdToBaseTax">
            <result name="insurancesBaseSettingsJosn" type="json"></result>
        </action>
        <action name="updateInsurancesBaseSettings" class="cn.fm.web.action.company.InsurancesBaseSettingsAction" method="updateInsurancesBaseSettings">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewInsurancesBaseSettings</param>
            </result>
        </action>
        
        <action name="viewInsurancesBaseSettings" class="cn.fm.web.action.company.InsurancesBaseSettingsAction" method="viewInsurancesBaseSettings">
            <result name="success">/admin/tax-base.jsp</result>
        </action> 
        
        <!-- CustomBonus  -->
        
        <action name="viewCustomBonus" class="cn.fm.web.action.company.CustomBonusAction" method="viewCustomBonus">
            <result name="success">company/salary-list-of-customized-items.jsp</result>
        </action> 
        <action name="addCustomBonus" class="cn.fm.web.action.company.CustomBonusAction" method="addCustomBonus">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewCustomBonus</param>
            </result>
        </action> 
        <action name="findToIdCustomBonus" class="cn.fm.web.action.company.CustomBonusAction" method="findToIdCustomBonus">
            <result name="customBonus" type="json">
            </result>
        </action>
         <action name="updateCustomBonus" class="cn.fm.web.action.company.CustomBonusAction" method="updateCustomBonus">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewCustomBonus</param>
            </result>
        </action>  
        
        <!-- Template 2013-08-23 -->
        <action name="viewSalaryTemplate" class="cn.fm.web.action.company.SalaryTemplateAction" method="viewSalaryTemplate">
            <result name="success" >company/salary-template.jsp</result>
        </action> 
        <action name="addSalaryTemplate" class="cn.fm.web.action.company.SalaryTemplateAction" method="addSalaryTemplate">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewSalaryTemplate</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewSalaryTemplate</param>
            </result>
        </action>
        
         <action name="findToIdSalaryTemplate" class="cn.fm.web.action.company.SalaryTemplateAction" method="findToIdSalaryTemplate">
            <result name="salaryTemplate" type="json" ></result>
        </action> 
        <action name="updateSalaryTemplate" class="cn.fm.web.action.company.SalaryTemplateAction" method="updateSalaryTemplate">
          <result name="success" type="redirectAction">
            	<param name="actionName">viewSalaryTemplate</param>
            </result>
        </action> 
        <action name="viewSalaryBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="viewSalaryBudgetTable">
            <result name="success" >company/salary-with-month.jsp</result>
             <result name="input" >company/salary-with-month.jsp</result>
        </action> 
         <action name="newSalaryBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="newSalaryBudgetTable">
            <result name="success" >company/salary-step1-of-create.jsp</result>
            <result name="input">company/salary-step1-of-create.jsp</result>
        </action> 
        <action name="addSalaryBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="addSalaryBudgetTable" >
            <result name="success" >company/salary-step2-of-create.jsp</result>
            <result name="input" type="redirectAction">
            	<param name="actionName">newSalaryBudgetTable</param>
            </result>
        </action>
        <action name="returnToModifySalaryBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="returnToModifySalaryBudgetTable">
                <interceptor-ref name="defaultStack"/><!-- 需要注意拦截器栈的配置顺序-->  
           		<interceptor-ref name="token"/><!-- 这就是用来防止表单重复提交的拦截器-->  
           		<result name="invalid.token">company/salary-step2-of-create.jsp</result>
               <result name="input"> company/salary-step2-of-create.jsp</result>
        </action> 
        <action name="downloadSalaryBudgetTable" class="cn.fm.web.action.company.ExportSalaryBudgetByPoiAction" method="downloadSalaryBudgetTable">
             <result name="success" type="stream">
               <!-- 指定被下载文件的文件类型 -->
               <param name="contentType">application/vnd.ms-excel</param>
               <!-- 指定下载文件的文件位置 -->
               <param name="contentDisposition">attachment;filename="${fileName}"</param>  
               <param name="inputName">excelFile</param>
               <param name="bufferSize">1024</param>
            </result>  
        </action> 
        <action name="uploadEmployeesSalaryDetail" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="uploadEmployeesSalaryDetail">
               <result name="success">company/salary-step3-of-create.jsp</result>
               <result name="input">company/salary-step2-of-create.jsp</result>
        </action> 
         <action name="toImportSalaryData" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="toImportSalaryData">
               <result name="success" type="redirectAction">
               	<param name="actionName">returnToModifySalaryBudgetTable</param>
               </result>
        </action> 
     

        <action name="findBeforeCurrentDateTemplate" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="findBeforeCurrentDateTemplate">
            <result type="json" name="createSalaryBudgetTableList">
            	
            </result>
        </action> 
        
        <!-- ===========Wage-budget-salary 2013-08-28============ -->
         <action name="viewSalaryBudgetTableSummary" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="viewSalaryBudgetTableSummary">
            <result name="success">company/salary-with-sum-of-categories.jsp</result>
        </action>
        <action name="findToIdSalayBudegTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="findToIdSalayBudegTable">
            <result name="createSalaryBudgetTable" type="json"></result>
        </action>
        <action name="updateSalayBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="updateSalayBudgetTable">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewSalaryBudgetTableSummary</param>
            	<param name="enterpriseId">${enterpriseId}</param>
            	<param name="budgetId">${budgetId}</param>
            </result>
        </action>
         <action name="deleteSalayBudgetTable" class="cn.fm.web.action.company.CreateSalaryBudgetTableAction" method="deleteSalayBudgetTable">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewSalaryBudgetTable</param>
            	<param name="enterpriseId">${enterpriseId}</param>
            	<param name="budgetId">${budgetId}</param>
            </result>
        </action>
        
        
        <!-- 查看企业资金往来情况 -->
        <action name="viewBalanceDetail" class="cn.fm.web.action.salary.BalanceDetailAction" method="viewBalanceDetail">
            <result name="success" >company/balance-detail.jsp</result>
        </action>
        <action name="findToIdBalanceDetail" class="cn.fm.web.action.salary.BalanceDetailAction" method="findToIdBalanceDetail">
            <result name="balanceDetail"  type="json"></result>
        </action>
        
         <action name="addBalanceDetail" class="cn.fm.web.action.salary.BalanceDetailAction" method="addBalanceDetail">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewBalanceDetail</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewBalanceDetail</param>
            </result>
        </action>
        <action name="viewAllEmployeesSalaryDetail" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="viewAllEmployeesSalaryDetail">
            <result name="success">company/salary-list.jsp</result>
        </action>
        <action name="viewSalaryWithBankPersonalNumber" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="viewSalaryWithBankPersonalNumber">
            <result name="success">company/salary-with-bank-detail.jsp</result>
        </action>
        <!--<action name="viewSalaryWithBankPersonalNumberJson" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="viewSalaryWithBankPersonalNumberJson">
            <result name="success" type="json">
            </result>
        </action>
        --><action name="findToIdSalaryDetail" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="findToIdSalaryDetail">
            <result name="employeesSalaryDetail" type="json"></result>
        </action>
        <action name="updateEmployeesSalaryDetail" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="updateEmployeesSalaryDetail">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewAllEmployeesSalaryDetail</param>
            	<param name="budgetId">${budgetId}</param>
            </result>
        </action>
        <action name="viewMinshengBank" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="viewMinshengBank">
            <result name="success">company/salary-with-bank-detail.jsp</result>
        </action>
        <action name="viewOtherBank" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="viewOtherBank">
            <result name="success">company/salary-with-bank-detail.jsp</result>
        </action>
        <action name="viewCashIssue" class="cn.fm.web.action.salary.EmployeesSalaryDetailAction" method="viewCashIssue">
            <result name="success">company/salary-with-bank-detail.jsp</result>
        </action>
        
           <!-- report  导出数据======================== -->
        <action name="downloadBankIssueSalary" class="cn.fm.web.action.ireport.InsuranceEmployeesReportAction" method="downloadBankIssueSalary">
            <result name="success"  type="jasper"></result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewSalaryWithBankDetail</param>
            </result>
        </action>
        
       <action name="downloadSalaryWithSumOfCategoriesReport" class="cn.fm.web.action.ireport.InsuranceEmployeesReportAction" method="downloadSalaryWithSumOfCategoriesReport">
            <result name="success"  type="jasper"></result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewSalaryBudgetTable</param>
            </result>
        </action>
         <action name="viewTaxOfPerson" class="cn.fm.web.action.salary.TaxOfPersonAction" method="viewTaxOfPerson">
            <result name="success" >/admin/tax-of-person.jsp</result>
        </action>
        <action name="updateTaxOfPerson" class="cn.fm.web.action.salary.TaxOfPersonAction" method="updateTaxOfPerson">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewTaxOfPerson</param>
            </result>
            <result name="input" type="redirectAction">
            	<param name="actionName">viewTaxOfPerson</param>
            </result>
        </action>
        
        <!-- ==============汇总============== -->
        <action name="viewCompanyListWithSaraly" class="cn.fm.web.action.salary.CompanylistWithSalaryAction" method="viewCompanyListWithSaraly">
            <result name="success" >all/company-list-with-salary.jsp</result>
        </action>
        <action name="updateSaralyStatus" class="cn.fm.web.action.salary.CompanylistWithSalaryAction" method="updateSaralyStatus">
            <result name="success" type="redirectAction">
            	<param name="actionName">viewCompanyListWithSaraly</param>
            </result>
        </action>
        <action name="viewCompanyListWithInsurance" class="cn.fm.web.action.salary.CompanylistWithSalaryAction" method="viewCompanyListWithInsurance">
            <result name="success" >all/company-list-with-insurance.jsp</result>
        </action>
        <action name="viewCompanyListWithBalance" class="cn.fm.web.action.salary.CompanylistWithSalaryAction" method="viewCompanyListWithBalance">
            <result name="success" >all/company-list-with-balance.jsp</result>
        </action>
        <action name="findEnterpriseEmployeesRecution" class="cn.fm.web.action.salary.CompanylistWithSalaryAction" method="findEnterpriseEmployeesRecution">
            <result name="employeesRecution" type="json" ></result>
        </action>
        <action name="updateRecutionState" class="cn.fm.web.action.salary.CompanylistWithSalaryAction" method="updateRecutionState">
            <result name="success" type="redirectAction" >
            	<param name="actionName">viewCompanyListWithInsurance</param>
            </result>
            <result name="input" type="redirectAction" >
            	<param name="actionName">viewCompanyListWithInsurance</param>
            </result>
        </action>
        
	</package>

</struts>

